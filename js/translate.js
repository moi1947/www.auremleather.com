// Translation dictionary with Spanish, English, and Polish
const translations = {
    'es': {
        // Header
        'Aurem': 'Aurem',
        'Representante oficial de fábricas líderes': 'Representante oficial de fábricas líderes',
        'Inicio': 'Inicio',
        'Sobre nosotros': 'Sobre nosotros',
        'Nuestro equipo': 'Nuestro equipo',
        'Marcas': 'Marcas',
        'Contacto': 'Contacto',
        'Conócenos': 'Conócenos',
        'Contáctenos': 'Contáctenos',
        
        // Hero section
        '40 años de experiencia en el sector de las pieles': '40 años de experiencia en el sector de las pieles',
        'Representantes oficiales de las mejores fábricas de pieles de España': 'Representantes oficiales de las mejores fábricas de pieles de España',
        'Ver más': 'Ver más',
        
        // About section
        'Nuestra Historia': 'Nuestra Historia',
        'Con más de 40 años en el sector, nos hemos consolidado como representantes de confianza de las principales fábricas de pieles de España.': 'Con más de 40 años en el sector, nos hemos consolidado como representantes de confianza de las principales fábricas de pieles de España.',
        'Nuestro compromiso con la excelencia y la calidad nos ha permitido construir relaciones duraderas con clientes y proveedores en todo el país. Ofrecemos asesoramiento experto y productos de la más alta gama para satisfacer las necesidades más exigentes.': 'Nuestro compromiso con la excelencia y la calidad nos ha permitido construir relaciones duraderas con clientes y proveedores en todo el país. Ofrecemos asesoramiento experto y productos de la más alta gama para satisfacer las necesidades más exigentes.',
        'Calidad Garantizada': 'Calidad Garantizada',
        'Selección rigurosa de materiales': 'Selección rigurosa de materiales',
        'Confianza': 'Confianza',
        'Relaciones a largo plazo': 'Relaciones a largo plazo',
        'Asesoramiento': 'Asesoramiento',
        'Expertos a su disposición': 'Expertos a su disposición',
        
        // Team section
        'Nuestro Equipo': 'Nuestro Equipo',
        'Conoce a nuestro equipo de expertos que estarán encantados de atenderte': 'Conoce a nuestro equipo de expertos que estarán encantados de atenderte',
        'Moises Cortes Martin': 'Moises Cortes Martin',
        'CEO Internacional': 'CEO Internacional',
        'Ruben Martinez Chica': 'Ruben Martinez Chica',
        'CEO Nacional': 'CEO Nacional',
        
        // Brands section
        'Fábricas que representamos': 'Fábricas que representamos',
        'Colaboramos con los mejores fabricantes del sector': 'Colaboramos con los mejores fabricantes del sector',
        'Domingo Molina S.A.': 'Domingo Molina S.A.',
        'Especialistas en pieles de alta gama con más de 30 años de experiencia en el mercado.': 'Especialistas en pieles de alta gama con más de 30 años de experiencia en el mercado.',
        'Pieles de primera calidad': 'Pieles de primera calidad',
        'Amplia gama de colores': 'Amplia gama de colores',
        'Certificaciones de calidad': 'Certificaciones de calidad',
        'Futura Piel': 'Futura Piel',
        'Innovación en acabados de piel y procesos de curtido ecológicos.': 'Innovación en acabados de piel y procesos de curtido ecológicos.',
        'Procesos ecológicos': 'Procesos ecológicos',
        'Diseños innovadores': 'Diseños innovadores',
        'Compromiso con el medio ambiente': 'Compromiso con el medio ambiente',
        
        // Contact section
        'Estamos aquí para ayudarte. Escríbenos y te responderemos a la mayor brevedad.': 'Estamos aquí para ayudarte. Escríbenos y te responderemos a la mayor brevedad.',
        'Nombre': 'Nombre',
        'Email': 'Email',
        'Teléfono (opcional)': 'Teléfono (opcional)',
        'Asunto': 'Asunto',
        'Mensaje': 'Mensaje',
        'Escribe tu mensaje aquí...': 'Escribe tu mensaje aquí...',
        'Enviar mensaje': 'Enviar mensaje',
        'Al enviar este formulario, aceptas nuestra': 'Al enviar este formulario, aceptas nuestra',
        'política de privacidad': 'política de privacidad',
        'tu nombre': 'tu nombre',
        'tu@email.com': 'tu@email.com',
        '¿En qué podemos ayudarte?': '¿En qué podemos ayudarte?',
        
        // Footer
        'Derechos reservados': 'Derechos reservados',
        'Aviso legal': 'Aviso legal',
        'Política de privacidad': 'Política de privacidad',
        'Política de cookies': 'Política de cookies'
    },
    'en': {
        // Header
        'Aurem': 'Aurem',
        'Representante oficial de fábricas líderes': 'Official representative of leading manufacturers',
        'Inicio': 'Home',
        'Sobre nosotros': 'About us',
        'Nuestro equipo': 'Our team',
        'Marcas': 'Brands',
        'Contacto': 'Contact',
        'Conócenos': 'Get to know us',
        'Contáctenos': 'Contact us',
        
        // Hero section
        '40 años de experiencia en el sector de las pieles': '40 years of experience in the leather sector',
        'Representantes oficiales de las mejores fábricas de pieles de España': 'Official representatives of the best leather manufacturers in Spain',
        'Ver más': 'Learn more',
        
        // About section
        'Nuestra Historia': 'Our History',
        'Sobre nosotros': 'About us',
        'Con más de 40 años en el sector, nos hemos consolidado como representantes de confianza de las principales fábricas de pieles de España.': 'With over 40 years in the industry, we have established ourselves as trusted representatives of the main leather manufacturers in Spain.',
        'Nuestro compromiso con la excelencia y la calidad nos ha permitido construir relaciones duraderas con clientes y proveedores en todo el país. Ofrecemos asesoramiento experto y productos de la más alta gama para satisfacer las necesidades más exigentes.': 'Our commitment to excellence and quality has allowed us to build lasting relationships with customers and suppliers throughout the country. We offer expert advice and top-quality products to meet the most demanding needs.',
        'Calidad Garantizada': 'Guaranteed Quality',
        'Selección rigurosa de materiales': 'Rigorous material selection',
        'Confianza': 'Trust',
        'Relaciones a largo plazo': 'Long-term relationships',
        'Asesoramiento': 'Advice',
        'Expertos a su disposición': 'Experts at your service',
        
        // Team section
        'Nuestro Equipo': 'Our Team',
        'Conoce a nuestro equipo de expertos que estarán encantados de atenderte': 'Meet our team of experts who will be happy to assist you',
        'Moises Cortes Martin': 'Moises Cortes Martin',
        'CEO Internacional': 'International CEO',
        'Ruben Martinez Chica': 'Ruben Martinez Chica',
        'CEO Nacional': 'National CEO',
        
        // Brands section
        'Fábricas que representamos': 'Factories we represent',
        'Colaboramos con los mejores fabricantes del sector': 'We collaborate with the best manufacturers in the industry',
        'Domingo Molina S.A.': 'Domingo Molina S.A.',
        'Especialistas en pieles de alta gama con más de 30 años de experiencia en el mercado.': 'Specialists in high-end leathers with over 30 years of experience in the market.',
        'Pieles de primera calidad': 'Top quality leathers',
        'Amplia gama de colores': 'Wide range of colors',
        'Certificaciones de calidad': 'Quality certifications',
        'Futura Piel': 'Futura Piel',
        'Innovación en acabados de piel y procesos de curtido ecológicos.': 'Innovation in leather finishes and eco-friendly tanning processes.',
        'Procesos ecológicos': 'Eco-friendly processes',
        'Diseños innovadores': 'Innovative designs',
        'Compromiso con el medio ambiente': 'Commitment to the environment',
        
        // Contact section
        'Contacto': 'Contact',
        'Estamos aquí para ayudarte. Escríbenos y te responderemos a la mayor brevedad.': 'We are here to help you. Write to us and we will respond as soon as possible.',
        'Información de contacto': 'Contact Information',
        'Dirección': 'Address',
        'Teléfono': 'Phone',
        '+34 600 000 000': '+44 1234 567890',
        'info@pielesdecalidad.com': 'info@qualityleathers.com',
        'Horario': 'Opening Hours',
        'Lunes a Viernes: 9:00 - 18:00': 'Monday to Friday: 9:00 AM - 6:00 PM',
        'Envíanos un mensaje': 'Send us a message',
        'Nombre': 'Name',
        'Email': 'Email',
        'Teléfono (opcional)': 'Phone (optional)',
        'Asunto': 'Subject',
        'Mensaje': 'Message',
        'Escribe tu mensaje aquí...': 'Type your message here...',
        'Enviar mensaje': 'Send message',
        'Al enviar este formulario, aceptas nuestra': 'By submitting this form, you accept our',
        'política de privacidad': 'privacy policy',
        'tu nombre': 'your name',
        'tu@email.com': 'your@email.com',
        '¿En qué podemos ayudarte?': 'How can we help you?',
        
        // Footer
        'Derechos reservados': 'All rights reserved',
        'Aviso legal': 'Legal notice',
        'Política de privacidad': 'Privacy policy',
        'Política de cookies': 'Cookie policy'
    },
    'pl': {
        // Header
        'Aurem': 'Aurem',
        'Representante oficial de fábricas líderes': 'Oficjalny przedstawiciel wiodących producentów',
        'Inicio': 'Strona główna',
        'Sobre nosotros': 'O nas',
        'Información de contacto': 'Dane kontaktowe',
        'Dirección': 'Adres',
        'Teléfono': 'Telefon',
        'Email': 'E-mail',
        'Horario': 'Godziny otwarcia',
        'Lunes a Viernes: 9:00 - 18:00': 'Poniedziałek - Piątek: 9:00 - 18:00',
        'Envíanos un mensaje': 'Wyślij nam wiadomość',
        'Nuestro equipo': 'Nasz zespół',
        'Marcas': 'Marki',
        'Contacto': 'Kontakt',
        'Conócenos': 'Poznaj nas',
        'Contáctenos': 'Skontaktuj się z nami',
        
        // Hero section
        '40 años de experiencia en el sector de las pieles': '40 lat doświadczenia w branży skórzanej',
        'Representantes oficiales de las mejores fábricas de pieles de España': 'Oficjalni przedstawiciele najlepszych fabryk skór w Hiszpanii',
        'Ver más': 'Zobacz więcej',
        
        // About section
        'Nuestra Historia': 'Nasza historia',
        'Con más de 40 años en el sector, nos hemos consolidado como representantes de confianza de las principales fábricas de pieles de España.': 'Z ponad 40-letnim doświadczeniem w branży ugruntowaliśmy swoją pozycję jako zaufani przedstawiciele wiodących hiszpańskich fabryk skór.',
        'Nuestro compromiso con la excelencia y la calidad nos ha permitido construir relaciones duraderas con clientes y proveedores en todo el país. Ofrecemos asesoramiento experto y productos de la más alta gama para satisfacer las necesidades más exigentes.': 'Nasze zaangażowanie w doskonałość i jakość pozwoliło nam zbudować trwałe relacje z klientami i dostawcami w całym kraju. Oferujemy fachowe doradztwo i produkty najwyższej klasy, aby sprostać najbardziej wymagającym potrzebom.',
        'Calidad Garantizada': 'Gwarantowana jakość',
        'Selección rigurosa de materiales': 'Rygorystyczna selekcja materiałów',
        'Confianza': 'Zaufanie',
        'Relaciones a largo plazo': 'Długoterminowe relacje',
        'Asesoramiento': 'Doradztwo',
        'Expertos a su disposición': 'Eksperci do Twojej dyspozycji',
        
        // Team section
        'Nuestro Equipo': 'Nasz zespół',
        'Conoce a nuestro equipo de expertos que estarán encantados de atenderte': 'Poznaj nasz zespół ekspertów, którzy z przyjemnością Ci pomogą',
        'Moises Cortes Martin': 'Moises Cortes Martin',
        'CEO Internacional': 'Dyrektor Międzynarodowy',
        'Ruben Martinez Chica': 'Ruben Martinez Chica',
        'CEO Nacional': 'Dyrektor Krajowy',
        
        // Brands section
        'Fábricas que representamos': 'Reprezentowane fabryki',
        'Colaboramos con los mejores fabricantes del sector': 'Współpracujemy z najlepszymi producentami w branży',
        'Domingo Molina S.A.': 'Domingo Molina S.A.',
        'Especialistas en pieles de alta gama con más de 30 años de experiencia en el mercado.': 'Specjaliści od skór najwyższej jakości z ponad 30-letnim doświadczeniem na rynku.',
        'Pieles de primera calidad': 'Skóry najwyższej jakości',
        'Amplia gama de colores': 'Szeroka gama kolorów',
        'Certificaciones de calidad': 'Certyfikaty jakości',
        'Futura Piel': 'Futura Piel',
        'Innovación en acabados de piel y procesos de curtido ecológicos.': 'Innowacje w wykańczaniu skór i ekologicznych procesach garbarskich.',
        'Procesos ecológicos': 'Procesy ekologiczne',
        'Diseños innovadores': 'Innowacyjne projekty',
        'Compromiso con el medio ambiente': 'Zaangażowanie w ochronę środowiska',
        
        // Contact section
        'Estamos aquí para ayudarte. Escríbenos y te responderemos a la mayor brevedad.': 'Jesteśmy tutaj, aby Ci pomóc. Napisz do nas, a odpowiemy najszybciej jak to możliwe.',
        'Teléfono': 'Telefon',
        '+34 600 000 000': '+48 600 000 000',
        'info@pielesdecalidad.com': 'info@skorynajwyzszejjakosci.pl',
        'Horario': 'Godziny otwarcia',
        'Lunes a Viernes: 9:00 - 18:00': 'Poniedziałek - Piątek: 9:00 - 18:00',
        'Envíanos un mensaje': 'Wyślij do nas wiadomość',
        'Nombre': 'Imię i nazwisko',
        'Email': 'Email',
        'Teléfono (opcional)': 'Telefon (opcjonalnie)',
        'Asunto': 'Temat',
        'Mensaje': 'Wiadomość',
        'Escribe tu mensaje aquí...': 'Wpisz swoją wiadomość tutaj...',
        'Enviar mensaje': 'Wyślij wiadomość',
        'Al enviar este formulario, aceptas nuestra': 'Wysyłając ten formularz, akceptujesz naszą',
        'política de privacidad': 'politykę prywatności',
        'tu nombre': 'Twoje imię',
        'tu@email.com': 'twoj@email.com',
        '¿En qué podemos ayudarte?': 'W czym możemy Ci pomóc?',
        
        // Footer
        'Derechos reservados': 'Wszelkie prawa zastrzeżone',
        'Aviso legal': 'Informacja prawna',
        'Política de privacidad': 'Polityka prywatności',
        'Política de cookies': 'Polityka plików cookie',
        'Asunto': 'Temat',
        'Mensaje': 'Wiadomość',
        'Escribe tu mensaje aquí...': 'Wpisz swoją wiadomość tutaj...',
        'Enviar mensaje': 'Wyślij wiadomość',
        'Al enviar este formulario, aceptas nuestra': 'Wysyłając ten formularz, akceptujesz naszą',
        'política de privacidad': 'politykę prywatności',
        'tu nombre': 'Twoje imię i nazwisko',
        'tu@email.com': 'twoj@email.com',
        '+34 600 000 000': '+48 600 000 000',
        '¿En qué podemos ayudarte?': 'W czym możemy Ci pomóc?',
        'Asunto': 'Temat',
        'Mensaje': 'Wiadomość',
        'Escribe tu mensaje aquí...': 'Wpisz swoją wiadomość tutaj...',
        'Enviar mensaje': 'Wyślij wiadomość',
        'Al enviar este formulario, aceptas nuestra': 'Wysyłając ten formularz, akceptujesz naszą',
        'política de privacidad': 'politykę prywatności',
        'tu nombre': 'Twoje imię i nazwisko',
        
        // Footer
        'Derechos reservados': 'Wszelkie prawa zastrzeżone',
        'Aviso legal': 'Informacja prawna',
        'Política de privacidad': 'Polityka prywatności',
        'Política de cookies': 'Polityka plików cookie'
    }
};

// Make translatePage globally available
window.translatePage = function(lang) {
    // Update HTML lang attribute
    document.documentElement.lang = lang;
    
    // Remove active class from all buttons
    document.querySelectorAll('.flag-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    
    // Add active class to selected language button
    document.querySelector(`.flag-btn[data-lang="${lang}"]`).classList.add('active');
    
        // Update all translatable elements
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            // For elements that might contain HTML, we'll use innerHTML
            // but only if the translation doesn't contain HTML tags
            const translation = translations[lang][key];
            if (translation.match(/<[a-z][\s\S]*>/i)) {
                element.innerHTML = translation;
            } else {
                element.textContent = translation;
            }
        }
    });

    // Update input placeholders
    const inputs = document.querySelectorAll('input[placeholder], textarea[placeholder]');
    inputs.forEach(input => {
        const placeholder = input.getAttribute('placeholder');
        if (translations[lang] && translations[lang][placeholder]) {
            input.placeholder = translations[lang][placeholder];
        }
    });

    // Update button text
    const buttons = document.querySelectorAll('button:not(.flag-btn)');
    buttons.forEach(button => {
        // Get the original text from data-translate attribute if it exists
        const key = button.getAttribute('data-translate') || button.textContent.trim();
        if (translations[lang] && translations[lang][key]) {
            button.innerHTML = button.innerHTML.replace(key, translations[lang][key]);
        }
    });
    
    // Update links text
    const links = document.querySelectorAll('a[data-translate]');
    links.forEach(link => {
        const key = link.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            link.textContent = translations[lang][key];
        }
    });

    // Update title
    const title = document.querySelector('title');
    if (title && title.getAttribute('data-translate')) {
        const titleKey = title.getAttribute('data-translate');
        if (translations[lang] && translations[lang][titleKey]) {
            title.textContent = translations[lang][titleKey];
        }
    }

    // Save language preference
    localStorage.setItem('preferredLanguage', lang);
}

// Initialize the page with the preferred language or default to English
document.addEventListener('DOMContentLoaded', function() {
    // Get all language buttons
    const langButtons = document.querySelectorAll('.flag-btn');
    
    // Add click event to each language button
    langButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            const lang = this.getAttribute('data-lang');
            
            // Only proceed if the language is defined in our translations
            if (translations[lang]) {
                // Remove active class from all buttons
                langButtons.forEach(btn => btn.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');
                // Translate the page
                translatePage(lang);
                // Save the selected language to localStorage
                localStorage.setItem('preferredLanguage', lang);
            }
        });
    });
    
    // Check if there's a saved language preference
    const savedLang = localStorage.getItem('preferredLanguage');
    
    // If there's a saved language, apply it
    if (savedLang && translations[savedLang]) {
        // Update active button
        const activeButton = document.querySelector(`.flag-btn[data-lang="${savedLang}"]`);
        if (activeButton) {
            activeButton.classList.add('active');
        }
        // Translate the page
        translatePage(savedLang);
    } else {
        // Set English as default if no language is saved
        document.documentElement.lang = 'en';
        const enButton = document.getElementById('translateBtnEn');
        if (enButton) {
            enButton.classList.add('active');
            // Ensure default language is set in localStorage
            localStorage.setItem('preferredLanguage', 'en');
        }
    }

    document.getElementById('translateBtnPl').addEventListener('click', function() {
        translatePage('pl');
    });
});
